<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/style.css">
        <title>First JS Blog</title>
    </head>
    <body>
        <div class="blog">
            <div class="container">
              <h1 class="logo">My first JavaScript blog</h1>
              <main class="wrapper">
                <aside class="sidebar">
                  <h2 class="section-title">All posts</h2>
                  <ul class="list titles">
                  </ul>
                </aside>
                <section class="posts">
                  <article class="post active" id="article-1" data-tags="html handlebars" data-author="Construction">
                    <h3 class="post-title">Structure</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>The website consists of the following components:
                      <p>Header: It includes the title of the page and header elements such as a logo.
                      <p>Left column: It contains article titles presented as an unordered list. There is no content provided in the given code.
                      <p>Middle column: It displays a single article. The article consists of a title (using the 'h3' element), author (an empty 'p' element), content (a 'div' element containing 'p' paragraphs), and a tag section. The tag section includes a list of tags (using the 'ul' element) with corresponding links (using 'a' elements).
                      <p>Right column: It contains two sections - a tag cloud and a list of authors. The tag cloud is represented as an unordered list ('ul') which is empty in the provided code. The list of authors is also presented as an unordered list ('ul') which is also empty in the given code.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-2" data-tags="html handlebars events" data-author="Construction">
                    <h3 class="post-title">Functionality</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>The project consists of functions that are responsible for:</p>
                      <p>- only articles are contained in the HTML code ( tylko artykuły są zawarte w kodzie HTML )</p>
                      <p>- after opening the page, a list of titles, a tag cloud, and a list of authors are generated using ( za pomocą ) JS,</p>
                      <p>- after clicking on one of the titles in the left column, the corresponding article ( odpowiedni artykuł ) is displayed ( jest wyświetlany )  in the middle column,</p>
                      <p>- after clicking on any tag or author, the list of titles in the left column is filtered.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-3" data-tags="events loops" data-author="ClickHandlers">
                    <h3 class="post-title">titleCLickHandler</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>This function is responsible for handling the click on the article title and ensures that only the clicked link and the related article receive the 'active' class, while the other elements lose this class.</p>
                      <p>- Removes the 'active' class from all article links that already have this class. It uses the querySelectorAll method with the '.titles a.active' selector to find all such links.</p>                  
                      <p>- It iterates through the list of found links and removes the 'active' class for each link using the classList.remove('active') method.</p>                       
                      <p>- It iterates through the list of found articles and removes the 'active' class for each of them using the classList.remove('active') method.</p>              
                      <p>- Retrieves the value of the 'href' attribute from the clicked link using the getAttribute('href') method. This value is used as a selector to find the relevant article.</p>                      
                      <p>- Adds the class 'active' to the relevant article using the classList.add('active') method to activate and display it.</p>                    
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-4" data-tags="handlebars loops events" data-author="Generation">
                    <h3 class="post-title">generateTitleLinks</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>The generateTitleLinks function is used to generate a list of article titles and their links on a web page. Here is a description of how it works:</p>             
                      <p>- Retrieving the article ID by calling article.getAttribute('id') and assigning it to the article variable</p>
                      <p>- Retrieving the article title by calling article.querySelector(optTitleSelector).innerHTML</p>
                      <p>- Creating the article link HTML by passing a linkHTMLData object (containing the id and title) to the templates.articleLink() function.</p>
                      <p>- The resulting HTML code is assigned ( przypisywany ) to the linkHTML variable</p>            
                      <p>- Retrieving references to all links inside a "titles" element by document.querySelectorAll('.titles a') and looping through each link in a for...of loop.</p>
                      <p>- Adding a click listener for each link via link.addEventListener('click', titleClickHandler).</p>             
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-5" data-tags="objects loops" data-author="Calculating">
                    <h3 class="post-title">calculateTagParams</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>The calculateTagsParams function takes a 'tags' object that contains various tags as keys and their values as the number of occurrences 
                      <p>The function iterates through these tags and finds the largest and smallest value of the occurrences, storing  them as  max  and  min  in the params object, respectively.
                      <p>As a result, it returns a params object containing the maximum and minimum value of tag occurrences.
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-6" data-tags="objects" data-author="Calculating">
                    <h3 class="post-title">calculateTagClass</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>This function is responsible for the classification of tags based on the number of their occurrences, taking into account the parameter.</p>
                      <p>- It takes two arguments: 'count', which represents the number of occurrences of a given tag, and a 'params' object, which contains information about the maximum and minimum value of tag occurrences.</p>
                      <p>- The function then calculates the percentage value, which represents the share of the number of occurrences of the given tag in the range from the minimum value to the maximum value. It is the ratio of normalizedCount to normalizedMax.</p>
                      <p>- Finally, the function returns the calculated class number for the given tag.</p>
                      <p>- In this way, the calculateTagClass function converts the number of tag occurrences into the class number, taking into account the range of tag occurrence values specified by the 'params' parameters.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-7" data-tags="html handlebars loops objects" data-author="Generation">
                    <h3 class="post-title">generateTags</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>This function is designed to generate and display a tag cloud on the page based on the content of the articles.</p>
                      <p>- Two variables are initialized: allTags, which will hold information about all tags in articles, and articles, which is a list of all articles on the page.</p>
                      <p>- Then it iterates over each article (for...of)
                      <p>- After iterating over the articles, a tag cloud is generated based on the collected data.</p>
                      <p>a. The place where the tag cloud is to be displayed (selector optTagsListSelector) is retrieved.</p>
                      <p>b. The calculateTagsParams function is called with the 'allTags' argument to calculate the parameters for the tags.</p>
                      <p>c. The allTagsData object is created, containing a list of tags with their number of occurrences and assigned class.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-8" data-tags="loops events html" data-author="ClickHandlers">
                    <h3 class="post-title">tagClickHandler</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>This function handles user interaction by clicking on a tag in the tag cloud. As a result, when a tag is clicked, the tagClickHandler function performs the following tasks:</p>
                      <p>- The href attribute of the clicked item is fetched, which contains the tag ID in the format '#tag-name'.</p>
                      <p>- Using the 'replace' method on the 'href' string, the '#tag-' prefix is removed, leaving only the tag name. This tag name gets assigned to the 'tag' variable.</p>
                      <p>- All active tag links that have an href attribute starting with '#tag-' are fetched. The 'a.active[href^="#tag-"]' selector is used for this. The for...of loop iterates over these links.</p>
                      <p>- For each active link of the tag, the active class is removed to remove the visual indication of the active link.</p>
                      <p>- As a result, when a tag is clicked in the tag cloud, the tagClickHandler function removes the active tag from other tag links, adds the active tag to the clicked tag link, and generates a new list of article links based on the clicked tag.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-9" data-tags="html handlebars events loops objects" data-author="Generation">
                    <h3 class="post-title">generateAuthors</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>This function is designed to generate and display a list of authors on the page based on the content of the articles. After calling the function on the page, a list of authors will be generated along with their number of occurrences, and links to the appropriate places for displaying authors in articles will be assigned.</p>
                      <p>Each article is iterated (for...of)
                      <p>It iterates through each author in the allAuthors object, where the following steps are performed for each author:</p>
                      <p>a. An object is added to the allAuthorsLinkData.authors array containing information about the author, such as name and number of occurrences.</p>
                      <p>The generated HTML for the author list is assigned to the contents of the author list display space (authorsList.innerHTML) using the templates.authorsListLink function and passing the allAuthorsLinkData object as an argument.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                  <article class="post" id="article-10" data-tags="events loops html" data-author="ClickHandlers">
                    <h3 class="post-title">authorClickHandler</h3>
                    <p class="post-author"></p>
                    <div class="post-content">
                      <p>Aliquam erat volutpat. Ut non eleifend lectus. Donec suscipit tellus tempor, ornare dui id, hendrerit neque. Phasellus lacinia laoreet dui in luctus. Sed hendrerit, magna sit amet varius tempor, augue augue scelerisque est, non scelerisque mauris libero eu sapien.</p>
                      <p>Sed at sapien in quam sollicitudin aliquam. In interdum metus a mi porttitor luctus. Sed commodo, arcu id lacinia posuere, felis elit pharetra urna, at feugiat est orci sit amet libero. Quisque in nisl est. Nullam vehicula at lectus non luctus. Cras aliquam neque magna, at varius nisi egestas ut.</p>
                      <p>Rhoncus purus nulla, non auctor lacus placerat ut. Aliquam condimentum eget magna ac gravida. Etiam egestas faucibus urna et finibus. Cras vel tellus vel magna suscipit euismod. Maecenas id arcu ante. Duis iaculis scelerisque erat, at ullamcorper arcu consectetur eu. Fusce aliquam diam at arcu pharetra, vel fermentum nunc lobortis.</p>
                    </div>
                    <div class="post-tags">
                      <p><strong>Tags:</strong></p>
                      <ul class="list list-horizontal">
                      </ul>
                    </div>
                  </article>
                </section>
                <aside class="sidebar">
                  <h2 class="section-title">Tags</h2>
                  <ul class="list tags"></ul>
                  <h2 class="section-title">Functions</h2>
                  <ul class="list authors">
                  </ul>
                </aside>
              </main>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.0/handlebars.min.js"></script>
        <script id="template-article-link" type="text/x-handlebars-template">
          <li><a href="#{{ id }}"><span>{{ title }}</span></a></li>
        </script>
        <script id="template-tag-link" type="text/x-handlebars-template">
          <li><a href="#tag-{{ id }}">{{ tagName }}</a></li>
        </script>
        <script id="template-author-link" type="text/x-handlebars-template">
          <li><a href="#author-{{ id }}">{{ authorName }}</a></li>
        </script>
        <script id="template-tag-cloud-link" type="text/x-handlebars-template">
          {{#each tags}}
          <li><a href="#tag-{{ tag }}" class="tag-size-{{ className }}">{{ tag }}</a></li>
          {{/each}}
        </script>
        <script id="template-all-authors-link" type="text/x-handlebars-template">
          {{#each authors}}
          <li><a href="#author-{{ author }}">{{ author }} ({{ count }})</a></li>
          {{/each}}
        </script>
        <script src="js/script.js"></script>
    </body>
</html>